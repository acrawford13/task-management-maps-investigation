import { Map } from 'immutable';

const route = {
  bounds: {
    northeast: {
      lat: -35.17610010000001,
      lng: 149.1191619,
    },
    southwest: {
      lat: -35.2403666,
      lng: 149.0454304,
    },
  },
  copyrights: 'Map data Â©2018 Google',
  legs: [
    {
      distance: {
        text: '12.7 km',
        value: 12748,
      },
      duration: {
        text: '17 mins',
        value: 1012,
      },
      end_address: '81 Ferguson Circuit, Ngunnawal ACT 2913, Australia',
      end_location: {
        lat: -35.1770033,
        lng: 149.1144793,
      },
      start_address: '56 Hannaford St, Page ACT 2614, Australia',
      start_location: {
        lat: -35.23957,
        lng: 149.0454304,
      },
      steps: [
        {
          distance: {
            text: '38 m',
            value: 38,
          },
          duration: {
            text: '1 min',
            value: 4,
          },
          end_location: {
            lat: -35.2392471,
            lng: 149.0455624,
          },
          polyline: {
            points: 'hvavE}lul[YQGAGAIAKA',
          },
          start_location: {
            lat: -35.23957,
            lng: 149.0454304,
          },
          travel_mode: 'DRIVING',
        },
        {
          distance: {
            text: '0.7 km',
            value: 688,
          },
          duration: {
            text: '1 min',
            value: 70,
          },
          end_location: {
            lat: -35.2403666,
            lng: 149.0529861,
          },
          maneuver: 'turn-right',
          polyline: {
            points:
              'htavEwmul[BoB?C@E?E?E?C?E?E@C?E?E@E?C?E@E?E?C@EL_B?A?A?AAA?A?A?A?A?A?A?A?A?A?A?A?A@A?A?A@K?I@I?K@I@I@K?C?E@I@K?A?C@C@I?E@E?GTsCJcAJsADc@PwBH_An@oHFw@?A?C@C?C?C@A?C@C?C@C?A@C?C@C?C@A?C@C@C?CBG@ENa@',
          },
          start_location: {
            lat: -35.2392471,
            lng: 149.0455624,
          },
          travel_mode: 'DRIVING',
        },
        {
          distance: {
            text: '0.5 km',
            value: 451,
          },
          duration: {
            text: '1 min',
            value: 51,
          },
          end_location: {
            lat: -35.2390911,
            lng: 149.056965,
          },
          maneuver: 'turn-left',
          polyline: {
            points:
              'h{avEe|vl[cAq@aAs@y@m@AACCAAAACAACCAAACCAAAACCAAACCAACAAACCAACACAAACCAACACAAACACACAAACACACACAAACACACACACAC?CAAACACAC?CACAC?CACAC?CAC?EACAC?CAC?C?CAC?CAC?C?EAC?C?CAC?C?C?C?CAE?C?C?C?C?C?C?E?C?C?C?C?C?C?E@C?C?C?C?C?C@C?C?C@C?C?C@C?C@E?C?C@Cd@}CFe@Ji@',
          },
          start_location: {
            lat: -35.2403666,
            lng: 149.0529861,
          },
          travel_mode: 'DRIVING',
        },
        {
          distance: {
            text: '2.1 km',
            value: 2096,
          },
          duration: {
            text: '3 mins',
            value: 177,
          },
          end_location: {
            lat: -35.2215858,
            lng: 149.0632058,
          },
          maneuver: 'turn-left',
          polyline: {
            points:
              'hsavE_uwl[e@MYIOEQGQEOEQEQGOEQEQEQEOEQEQEOEQEICIAGAICIAIAIAGCIAIAIAIAGAEACAIAGAIAIAGAIAGAGAQCGAIAG?IAGAIAG?GAG?EAG?C?C?C?CAE?C?C?E?IAI?I?IAI?I?IAI?I?o@AmEEKAK?G?qGII?IAI?IAI?G?IAI?IAI?IAI?IAI?GAIAI?IAIAI?IAIAGAIAIAI?IAGAIAGAIAIAGAIAGAIAGCIAIAGAIAGCIAGAIAGCIAGAICs@QQEMEOEMCMEOEMEIAGCGCGCGCGAGCGCICGCGCGCGCGCGCGCGCGCGCGEGCGCGCGCCACACACAGCWKUOyBsAQIECCCEACCCCyA{@o@_@q@i@WMUQCACACCCACAACCACAIEGEIEGEIEGCIEIEGEIEGCKGGCGCIEGEICIEGCIEICGEICIEICGC?AGAKECAIAGCGCIAGCGCIAGCGAICGAICGAGAICGAIAGCGAIAGAICGAIAGAIAGAIACAC?IAGAIAGAGAkC_@qASy@]IICGAQAc@Ba@?a@',
          },
          start_location: {
            lat: -35.2390911,
            lng: 149.056965,
          },
          travel_mode: 'DRIVING',
        },
        {
          distance: {
            text: '1.1 km',
            value: 1129,
          },
          duration: {
            text: '1 min',
            value: 73,
          },
          end_location: {
            lat: -35.2252561,
            lng: 149.0741106,
          },
          maneuver: 'turn-slight-right',
          polyline: {
            points:
              '|e~uEa|xl[BYBKBKHaAVoBH{@LuAF{@FkAJ_CLyCLuDFmAH}BBaABu@Hk@@G@G@E@G@G@E@G@ETmALm@FY@ENi@?ABE@EBE@EBE@EBEVu@Vk@Ra@Te@T]k@V]c@f@i@l@g@j@c@BEDCJGDCHGLKNIBCDEDCDCDCDCDCDEDCXQ',
          },
          start_location: {
            lat: -35.2215858,
            lng: 149.0632058,
          },
          travel_mode: 'DRIVING',
        },
        {
          distance: {
            text: '1.4 km',
            value: 1448,
          },
          duration: {
            text: '1 min',
            value: 85,
          },
          end_location: {
            lat: -35.2161765,
            lng: 149.0841515,
          },
          maneuver: 'turn-left',
          polyline: {
            points:
              'z|~uEe`{l[b@e@DG@EBO@O?MASIQGOM]Si@[}@k@yAOa@EI?CCMOUCGCECECEEGCECEEGCECGEECEEGCEEECGEECEEECGEECEEEEECEEECGEEEECEEEEEEECEEEECEECEEEEEEEEEECEECEEEECEEEEECEEECEEEEECEEECEEECECEEGCECEEECECEEECGCECEEECECGCECECECGCECECECGCECECGCEAECIEIEICIEICIE_C}@aBo@qAg@q@Um@]WMECECECAAq@c@o@a@UOc@][WEEECEEEEECCEEEEEEEEECCEEEEEECEEEEECEEEEECEEECEEEEGCEEECEEECGEECECEEGCEEECGCCCEIOGIEIEKqBeDCECCAEUUi@}@AAACAAACA?K]Oe@KQMKYO',
          },
          start_location: {
            lat: -35.2252561,
            lng: 149.0741106,
          },
          travel_mode: 'DRIVING',
        },
        {
          distance: {
            text: '2.0 km',
            value: 2008,
          },
          duration: {
            text: '2 mins',
            value: 146,
          },
          end_location: {
            lat: -35.2014674,
            lng: 149.0942567,
          },
          maneuver: 'roundabout-left',
          polyline: {
            points:
              'bd}uE}~|l[A?AAA??AA?AAA??AA??AA??AAA?AA??AAA?A?AAA?A?AA??A?AAC?CACAC?CACAAACAC?CACAAACACACAAACACACAAACACAAACACAAACAACCAA?AAAAAACACCAgA{AAAACAA?AAAAA?AAAAC?AAA?AAAACAAACAAACAAOWSSACCCCCACCCCCCACCACCCCCCACCCCCACCACCACCCCCACCCACCCACCCACACCCACCA?A?A?A?A?AAA?A?AAA?AAA?A?AAAAA?AAA?AAA?AAA?AAA?A?AAA?AAA?A?A?CAC?AAC?EAA?A?CAC?AAC?CAC?AAC?CAAAC?CAAAC?CAAAA?AAA?AAA?AAA?AAA?A?AAA?A?CAA?A?A?A?A?AAA?C?A?ICA@A??@A?A??@A?A?A@A?A?A?A?A?A?AAA?A?AAA?AAA??AA??AA?AAAA?AAA?AA??A?AA??A?AAA?A?AOMCAAAAAACAAAACAAAAAAAAAAACAAAAAA?AACAA?AAA?CAAAA?AAA?A?AAA?A?CAA?AAA?A?A?AAA?AAA?AAA??AA?[Eo@GYCUA}AOG?EAGAC?A?EAG?EAGAE?GAEAGAE?EAGAEAGAEAEAGAEAGAEAEAGAEAEAGCEAEAGAEAECGAEAECGAECEAGCEAECEAGCEAECEAECGCECCAEAECCAECICGGCACACCCACACCEACCCAAAA?CAA?AAC?AACAA?A?AACAA?CAA?CAA?CAA?C?AAC?AAC?UEA?A?A?A?A?A?AAA?A??AA?AA?AA?AA?AA??AAA?A?AA??AQUAAAA?AAAAAAAAAAAAAAAAAAAA?AAAAAAAAA?AAWOc@YCA_@WSMIGCACACACAEACAEACCEAEAECEAEAECEAEACAECEAEAEAEAEAEAEAEAEAEAEAEAEAEAEAEAEAE?EAEAE?EAEAE?EAEAE?EAE?EAE?E?GAE?EAE?E?eEOE?E?EAE?EAE?EAE?EACAE?EAEAE?EAEAEAC?EAEAEAEAEACAEAEAEAEACAEAEAEAEACCEAEAEACCEAEACCEAECEACAECCAECECCAECEACCECCAECECCCEACCECCCECCCECCAECCCCCECCCEECCCCECCCCCECCECCECCCCECCECCECCCCCECCEECCAAACCCCECCCECCCECCAAAACEEECEEEEECEEECGEECEEEEECECGEECEEECGEECECGEECE[i@O]KUSi@GSEUGUKyAE]?KGk@BI?E?EAECGCGACEU',
          },
          start_location: {
            lat: -35.2161765,
            lng: 149.0841515,
          },
          travel_mode: 'DRIVING',
        },
        {
          distance: {
            text: '0.7 km',
            value: 712,
          },
          duration: {
            text: '1 min',
            value: 62,
          },
          end_location: {
            lat: -35.1993538,
            lng: 149.1012592,
          },
          maneuver: 'roundabout-left',
          polyline: {
            points:
              'dhzuEc~~l[SKMKIMIMAA?AAA?AAA?AAA?AAA?CAA?AAA?AAA?C?AAA?A?A?CAA?A?A?AAA?A?A?A?A?AAA?A?A?A?A?A?A?A?A?A?A?A?A?A?A@A?A?A?A?A@A?A?A?A@A?AA_@AE@EBeA?E?G@E?E?E?E?E?E?E?E?E?E?E?E?E?G?E?EAE?E?E?E?EAE?E?E?EAE?EAE?C?CAGY}CGk@E_@Gm@MyACUIg@?GAEAEAGAEAEAGAEAEAGAEAEAGAEAECEAGAEAEAEAGCEAEAECEAGAECEAECEAEAECEAECEAECECGACCGACCECEAECECEAECECECEACCECECECECCCECECEACCECECCCECCAAACACAACC?AAAACACCCAEACAAAAAA?AAAAAAAAAAAAAAAA?AAAAAAAAA?CAAAAAA?AAAAA?AAA?CA',
          },
          start_location: {
            lat: -35.2014674,
            lng: 149.0942567,
          },
          travel_mode: 'DRIVING',
        },
        {
          distance: {
            text: '0.7 km',
            value: 735,
          },
          duration: {
            text: '1 min',
            value: 49,
          },
          end_location: {
            lat: -35.1958281,
            lng: 149.1079433,
          },
          maneuver: 'roundabout-left',
          polyline: {
            points:
              '|zyuE{i`m[A?A?A?AAA?A?AAA?AAA??AA??AA??AA??AA??AAA?AAA?AAA?A?AAA?A?AACACAA?CACACACACAAACACACAAACACAAACACACAAACA??AAAAAEEEGEEEGEEEGEGEEEGEGEEEGEGEEEGEGEGEEEGEGEGEGEGCGEGEGEGEGEGCIEGEGEGCGEGEIEGCGEICGEGEGCIEGCGEICGEICGEGCICGEIGQEGGQEICGCICGEICICGCICICGCIEICGCICICGCICICICGAICICE?CCICICGCIAICICIIYaAaEEMEOYkAOcAKUAA?AAA?AAA?AAA?AAA?AAAAA?AA?AA?AAAAAAAAAAAKI',
          },
          start_location: {
            lat: -35.1993538,
            lng: 149.1012592,
          },
          travel_mode: 'DRIVING',
        },
        {
          distance: {
            text: '0.8 km',
            value: 761,
          },
          duration: {
            text: '1 min',
            value: 50,
          },
          end_location: {
            lat: -35.1904741,
            lng: 149.1125657,
          },
          maneuver: 'roundabout-left',
          polyline: {
            points:
              '|dyuEssam[A??AA?A?AAA??AA?AAAAAAAA?AA??AAA?AAA?A?AA??A?AAA?A?A?A?A?A?A?A?AI]AGAGAGAC?CAEACAEAEAEQy@U]CGCECEEECGCECEEECGCEEECECEEECGCEEECEEECEEEEGCEEEEGEEEGEECEEEEGEEEEEEEGEEEEEEEEEEEEEEEEEEEEEEEEEEEEGEEEEEEEAACAEEGEEEEEECEEGEECECMKEEGEKIUMSOECECGCEEGCECGCEEGCECGCECGCECGEGCGCGCECGCGCGCGCGCECGCGCGCGCGCGCGAGCsASCAE?CAC?CACAIAKCCACACAEACACACACACACACACACACACACACACCCAg@WA?AAA?A?AAA?A?AAA?AAA?A?A?CAA?A?A?A?A?A?CA',
          },
          start_location: {
            lat: -35.1958281,
            lng: 149.1079433,
          },
          travel_mode: 'DRIVING',
        },
        {
          distance: {
            text: '0.7 km',
            value: 743,
          },
          duration: {
            text: '1 min',
            value: 57,
          },
          end_location: {
            lat: -35.1863674,
            lng: 149.1188694,
          },
          maneuver: 'roundabout-left',
          polyline: {
            points:
              'lcxuEqpbm[?@A?A?A?A?A?A?A?A?A?AAA?A??AA?A??AA??AA??AA?AA?AA??AAAAA?AwAsBeAaBCEAEa@i@MO[e@[e@S]U_@We@S_@[u@O]KUM]CEKYy@sBM]M_@OWM[UKUWSY[e@O[Uo@cAwBAEIWKW',
          },
          start_location: {
            lat: -35.1904741,
            lng: 149.1125657,
          },
          travel_mode: 'DRIVING',
        },
        {
          distance: {
            text: '0.8 km',
            value: 799,
          },
          duration: {
            text: '1 min',
            value: 58,
          },
          end_location: {
            lat: -35.1831006,
            lng: 149.1119175,
          },
          maneuver: 'turn-left',
          polyline: {
            points:
              'xiwuE}wcm[USGIGKMKEAQAoA~AoAxBKRMPU^IJMHCDCDEH?@CFEHCHCHCHA@ABCFCDAFCDCDAFCDCFADCFCFADCFADCFADCFAFCDAFCFADAFCFADAFCFADAFAFCFAFADAFAFAFAFADCFAFAFAF?DA@AFAFAFAFAHAFAFAFEXMhAKv@SfCAFAFAF?FAFADAH?DAFAFAFAFAF?BUlAAHAJCFAHOb@Sn@Qj@I`@',
          },
          start_location: {
            lat: -35.1863674,
            lng: 149.1188694,
          },
          travel_mode: 'DRIVING',
        },
        {
          distance: {
            text: '0.9 km',
            value: 946,
          },
          duration: {
            text: '1 min',
            value: 86,
          },
          end_location: {
            lat: -35.1762831,
            lng: 149.1135216,
          },
          maneuver: 'roundabout-left',
          polyline: {
            points:
              'juvuEolbm[?B@@?B?@@B?@?B?@?DAB?DABABADABC@ABCBC@C@A??@A?A?A?A@A?C?C?CAC?CACACCAACCACCCACAIAA?C?C?C?C?A?C?CMi@AC?AAC?AAC?AAC?AAAAC?AACAA?AACAAAA?CAAAAAAAA?CAAAAAAAAAAAAACAAAAAAAAA?AAAAAAAAAAAACAA?AAAAAAA?CAAAA?AAA?CAA?AAA?CAA?AAA?CAA?A?AAC?A?A?A?CAA?A?A?C?A?A?A?C?A?A?A?C?A?A@A?G?GAQDy@PA?A@A?A?C@A?A?A?A@C?A?A?A?C@A?A?A?C?A?A?A?AAC?A?A?A?C?AAA?A?AAC?A?AAA?AAC?AAA?AAA?AAA?CAAAA?AAAAAAA?AAAAAAAAAAA?AAAAAAAAAAAAAA?AAAACAAAAAA?AAAACAA?AAAAA?CAAAA?CAA?AAC?AAA?CAA?AACGYQ{@?AAC?CAA?CAAAC?AACAA?AACAA?CAAAAACAA?AACAAAAACAAAAAAACAAAAAAAAAAAAAAAAACAAAAA?AAAACAAAAAAAAAA?CAAAAAA?CAAAA?AACAA?AAC?AAA?CAA?A?CAA?gBW_@G[GCASCAAA?C?A?A?AAA?A?C?A?A?A?A?C?A?A?A?A?C?A@A?A?A?A@C?A?A@A?A?A@A?C@A?A@A?A@A?A@A@A?A@A@C?A@A@A@A?A@A@A@q@j@kA`AA@A@CBC?A@A@A@A@E@A@C@C@C@A?C@C@C?A@A?A@C?A?A@A?A?C@A?A?C?A?A@C?A?A?A?A?eB?GDC@G?QB',
          },
          start_location: {
            lat: -35.1831006,
            lng: 149.1119175,
          },
          travel_mode: 'DRIVING',
        },
        {
          distance: {
            text: '0.1 km',
            value: 100,
          },
          duration: {
            text: '1 min',
            value: 18,
          },
          end_location: {
            lat: -35.1761877,
            lng: 149.1143223,
          },
          maneuver: 'roundabout-left',
          polyline: {
            points:
              'vjuuEovbm[?@A@A@A@A@A?A@A?A?A?A?AAA?AAA??AA??AA??AAA?A?AA??A?A?A?A?A?A?A?A@A?A?A@??A@A@A@A@?@AAE@E?G@GBK@cA?AAA?A?A?A?AAA?A',
          },
          start_location: {
            lat: -35.1762831,
            lng: 149.1135216,
          },
          travel_mode: 'DRIVING',
        },
        {
          distance: {
            text: '94 m',
            value: 94,
          },
          duration: {
            text: '1 min',
            value: 26,
          },
          end_location: {
            lat: -35.1770033,
            lng: 149.1144793,
          },
          maneuver: 'turn-right',
          polyline: {
            points: 'djuuEo{bm[HG@??A@?@A@?@A@?@A@?@??A@?@?@?@?@?@A@?@?@?~@?@@@??A@?@?@??A@??ADC@A@?@A@?@?@?T?',
          },
          start_location: {
            lat: -35.1761877,
            lng: 149.1143223,
          },
          travel_mode: 'DRIVING',
        },
      ],
      traffic_speed_entry: [],
      via_waypoint: [],
    },
  ],
  overview_polyline: {
    points:
      'hvavE}lul[a@SQCKABoB@I?U@UReCAOFkAn@uHlB{TF[FUNa@cAq@{BaBIIKIUWc@s@[{@Q}@GcA@cAD_@|@cGqHoBuAWaAQwC]iBIsSY{CQsC_@iAQgCo@{Ac@aA]oBy@_@OoCcBa@SqCcBcBkAc@WgAm@uCqAy@YeAWmCg@}@M}Es@y@]IICGCu@BcAFe@n@yFTqCRkEl@{OFwBJs@F]ZaBf@wBTk@n@aBh@gAr@iAt@aAf@i@l@g@n@i@`@W~@o@j@_@h@m@DU@]ASIQUm@o@gBaAiC[q@c@u@qAeBwA_B}AsAeBgAqBaA}CmAsDwAq@Um@]]QKGyBwAaBuAm@m@qAcBe@q@{CeFW[k@_AGI[cAY]]QGEGGGY[y@_@o@uAmBIQo@}@[]{@u@]SMA]Og@Iu@Sa@KYEIDS?OIISk@i@e@SYGECeBQuCWmBYkBe@cBq@iAm@c@Ms@KOEIOm@q@gBiAe@YQGm@Um@Q_B]aBOoFSm@IyA]wAi@qAu@mA_AaAgA}@iAoAgB_@o@[s@[}@Mk@YoDBOAKOi@a@WS[CGCGGSCQC_@D_@Am@DyA?o@CaBg@kF_@}DM{@Ou@Qs@k@cBs@}Ay@qA_@o@a@YWGOMK[]w@aAoA}AyBwAeCwA_DcAsCYcAaBuGK]YkAOcAMWACCGCGIKUQOKIU?KSeAGUQy@U]GMQYQYe@q@k@s@}AeB}AwAy@o@wA_AkB_A}@_@_@OgB[o@Ma@OyAq@c@GQ@QKEI}CuEEKo@y@w@kAuAcCeAgCwAqD]w@M[UKi@q@k@aAUo@cAwBK]KWUSOUSMQAoA~A{AlCc@p@WTGJOM^Yr@Yx@k@tB_@rBG`@a@bD_@~D_@~BIf@c@rA[lA@J@JCRINSLU?MIKOCS?MS_AIU[g@a@[g@Og@CI?S?yAZe@@g@Ia@U[_@Si@i@}B[k@a@_@g@UwEu@e@?c@JQHiCvBSN]Li@HG?eB?GDK@QDCBCBG@MEEM@QDE@A@GFa@?gAAI?AHGDCJEtAANI^A',
  },
  summary: 'William Slim Dr',
  warnings: [],
  waypoint_order: [],
};

export const getMidpoint = route => {
  const distanceMidpoint = route.legs[0].distance.value / 2;
  // const tempRoute = Map(route);
  let accumulatedStepsDistance = 0;
  let count = 0;
  const routeSteps = route.legs[0].steps.reduce((allSteps, step) => {
    if (step.steps) {
      allSteps.push(...step.steps);
      return allSteps;
    } else {
      allSteps.push(step);
      return allSteps;
    }
  }, []);

  console.log(routeSteps);
  while (accumulatedStepsDistance < distanceMidpoint) {
    if (route.legs[0].steps[count].steps) {
      
    }
    accumulatedStepsDistance += route.legs[0].steps[count].distance.value;
    count++;
  }
  return route.legs[0].steps[count].start_location;
};
